/*!
 * @copyright Copyright &copy; Kartik Visweswaran, Krajee.com, 2014 - 2016
 * @version 1.9.5
 *
 * Date control validation plugin
 * 
 * Author: Kartik Visweswaran
 *
 * For more JQuery plugins visit http://plugins.krajee.com
 * For more Yii related demos visit http://demos.krajee.com
 */!function(a){"use strict";var b=function(b,c){return null===b||void 0===b||0===b.length||c&&""===a.trim(b)},c=function(b,c){var d=this;d.$element=a(b),d.init(c),d.listen()};c.prototype={constructor:c,init:function(c){var d=this,e=b(c.dateSettings)?{}:{dateSettings:c.dateSettings};if(a.each(c,function(a,b){d[a]=b}),d.$idSave=a("#"+c.idSave),d.dateFormatter=window.DateFormatter?new window.DateFormatter(e):{},b(d.dateFormatter))throw"No DateFormatter plugin found. Ensure you have 'php-date-formatter.js' loaded.";d.isChanged=!1},validate:function(){var n,c=this,d=c.$element,e=c.$idSave,f=c.url,g=c.type,h=c.dispFormat,i=c.saveFormat,j=c.dispTimezone,k=c.saveTimezone,l=c.asyncRequest,m=c.dateFormatter;if(!c.isChanged)if(c.isChanged=!0,b(d.val()))e.val("").trigger("change"),c.isChanged=!1;else if(b(f)){var o=m.parseDate(d.val(),h);o===!1&&(o=m.guessDate(d.val(),h),d.val(m.formatDate(o,h))),e.val(m.formatDate(o,i)).trigger("change"),c.isChanged=!1}else n="en"===c.language.substring(0,2)?[]:c.dateSettings,a.ajax({url:f,type:"post",dataType:"json",async:l,data:{displayDate:d.val(),type:g,dispFormat:h,saveFormat:i,dispTimezone:j,saveTimezone:k,settings:n},success:function(a){"success"===a.status&&e.val(a.output).trigger("change")},complete:function(){c.isChanged=!1},error:function(){c.isChanged=!1}})},listen:function(){var a=this,b=a.$element;b.on("change",function(){a.validate()}).on("paste",function(){setTimeout(function(){b.val(b.val()),a.validate(),b.trigger("datecontrol.afterpaste")},100)})}},a.fn.datecontrol=function(b){var d=Array.apply(null,arguments);return d.shift(),this.each(function(){var e=a(this),f=e.data("datecontrol"),g="object"==typeof b&&b;f||(f=new c(this,a.extend({},a.fn.datecontrol.defaults,g,a(this).data())),e.data("datecontrol",f)),"string"==typeof b&&f[b].apply(f,d)})},a.fn.datecontrol.defaults={language:"en",dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"]},dispTimezone:null,saveTimezone:null,asyncRequest:!0},a.fn.datecontrol.Constructor=c}(window.jQuery);